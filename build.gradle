
plugins {
    id "de.undercouch.download" version "4.1.1"
}
apply plugin: 'java'

version = '0.0.1'

java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

repositories {
    jcenter()
    flatDir {
        dirs 'lib'
    }
}

dependencies {
    implementation 'signomix:signomix-ce:1.3.1'
    testImplementation 'junit:junit:4.13'
}

task downloadFile(type: Download) {
    src 'https://github.com/gskorupa/signomix/releases/download/1.3.1/signomix-ce-1.3.1.jar'
    dest 'lib'
    onlyIfModified true
}

task fatJar(type: Jar) {
    archiveClassifier = 'fatJar'

    from sourceSets.main.output

    dependsOn configurations.runtimeClasspath
    from {
        configurations.runtimeClasspath.findAll { it.name.endsWith('jar') }.collect { zipTree(it) } } {
        include 'com.mypackage/**'
    }
    
}

